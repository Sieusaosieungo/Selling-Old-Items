(window.webpackJsonpCKEditor5=window.webpackJsonpCKEditor5||[]).push([[14],{410:function(e,t,a){"use strict";a.r(t);var n=a(63),r=a(47),c=a(0),o=a.n(c),s=a(35),l=a(62),i=a.n(l),p=a(364),u=a(369),m=a(372),d=a(368),h=a(31),g=(a(411),a(42));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=p.a.Option,O=u.a.TextArea,y={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},j={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};t.default=Object(s.c)(d.a.create({name:"sign-up"})((function(e){var t=e.form.getFieldDecorator,a=e.form,s=e.cookies.cookies,l=e.history,f=Object(c.useState)([]),w=Object(r.a)(f,2),v=w[0],I=w[1],k=Object(c.useState)({}),T=Object(r.a)(k,2),P=T[0],C=T[1],D=s.accessToken;console.log("history: ",l);var A=function(e){var t=e.target,a=t.name,r=t.files;C(b({},P,Object(n.a)({},a,r[0])))};return Object(c.useEffect)((function(){i()({mehod:"GET",url:"".concat(g.a.API_URL,"/categories/"),headers:{authorization:"Bearer ".concat(D),"Content-Type":"application/json"}}).then((function(e){e.data.results.categories&&I(e.data.results.categories)})).catch((function(e){return console.log(e)}))}),[]),o.a.createElement("div",{className:"".concat("post-product")},o.a.createElement(d.a,Object.assign({},y,{onSubmit:function(e){e.preventDefault(),a.validateFieldsAndScroll((function(e,t){if(!e){console.log("product before upload:",b({},t,{},P));var a=new FormData;a.set("name",t.name),a.set("category_id",t.category_id),a.set("cost",t.cost),a.set("description",t.description),a.append("productMainImage",P.productMainImage),a.append("productAttachImages",P.productAttachImages),i()({method:"POST",url:"".concat(g.a.API_URL,"/products/"),headers:{authorization:"Bearer ".concat(D),"Content-Type":"multipart/form-data"},data:a}).then((function(e){e.data.results&&(console.log("product uploaded: ",e.data),m.a.success("\u0110\u0103ng s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng !"),C({}),l.push("/user/my-posts"))})).catch((function(e){return console.log(e)}))}}))}}),o.a.createElement(d.a.Item,{label:"T\xean s\u1ea3n ph\u1ea9m:"},t("name",{rules:[{required:!0,message:"T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}]})(o.a.createElement(u.a,null))),o.a.createElement(d.a.Item,{label:"\u1ea2nh ch\xednh:"},o.a.createElement("label",{className:"upload-btn-wrapper"},o.a.createElement("input",{type:"file",required:!0,onChange:A,name:"productMainImage"}),o.a.createElement("span",null,"T\u1ea3i l\xean \u1ea3nh"))),o.a.createElement(d.a.Item,{label:"\u1ea2nh ph\u1ee5:"},o.a.createElement("label",{className:"upload-btn-wrapper"},o.a.createElement("input",{type:"file",required:!0,onChange:A,name:"productAttachImages"}),o.a.createElement("span",null,"T\u1ea3i l\xean file .zip"))),o.a.createElement(d.a.Item,{label:"Gi\xe1:"},t("cost",{rules:[{required:!0,message:"Gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !"}]})(o.a.createElement(u.a,null))),o.a.createElement(d.a.Item,{label:"Danh m\u1ee5c",hasFeedback:!0},t("category_id",{rules:[{required:!0,message:"Danh m\u1ee5c kh\xf4ng \u0111\u01b0\u1ee3c tr\u1ed1ng !"}]})(o.a.createElement(p.a,{placeholder:"Ch\u1ecdn danh m\u1ee5c"},v.map((function(e,t){var a=e.name,n=e._id;return o.a.createElement(E,{key:t,value:n},a)}))))),o.a.createElement(d.a.Item,{label:"M\xf4 t\u1ea3:"},t("description",{rules:[{required:!0,message:"M\xf4 t\u1ea3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !"}]})(o.a.createElement(O,null))),o.a.createElement(d.a.Item,j,o.a.createElement(h.a,{type:"primary",htmlType:"submit"},"T\u1ea3i l\xean"))))})))},411:function(e,t,a){}}]);
//# sourceMappingURL=14.907cdb18.chunk.js.map