{"version":3,"sources":["utils/changeToSlug.js","pages/Home/index.js"],"names":["changeToSlug","title","slug","toLowerCase","replace","CategoryCard","Loadable","loader","loading","Loading","Category","TabPane","Tabs","connect","global","dispatch","withCookies","withPlatform","platform","tab","match","params","mode","isMobile","categories","useEffect","length","axios","mehod","url","config","API_URL","then","res","data","results","updateState","catch","err","console","log","className","tabPosition","activeKey","key","to","result","map","index","name","_id","idCategory","renderCategory"],"mappings":"0PAoCeA,EApCM,SAAAC,GACnB,IAAKA,EACH,MAAO,GAGT,IAAIC,EAAOD,EAAME,cA4BjB,OAFAD,GADAA,EAAO,KAHPA,GADAA,GADAA,GADAA,GAJAA,GAHAA,GAHAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAOA,EAAKE,QAAQ,qGAAyB,MACjCA,QAAQ,mEAAmB,MAC3BA,QAAQ,kCAAc,MACtBA,QAAQ,qGAAyB,MACjCA,QAAQ,qEAAmB,MAC3BA,QAAQ,mCAAa,MACrBA,QAAQ,WAAO,MAGfA,QAAQ,iCAAkC,KAG1CA,QAAQ,MAAO,MAIfA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MACtBA,QAAQ,WAAY,MACpBA,QAAQ,SAAU,MAGV,KACRA,QAAQ,iBAAkB,K,gBCflCC,EAAeC,IAAS,CAC5BC,OAAQ,kBAAM,+BACdC,QAASC,MAELC,EAAWJ,IAAS,CACxBC,OAAQ,kBAAM,qDACdC,QAASC,MAGHE,EAAYC,IAAZD,QAkEOE,uBAHS,SAAC,GAAD,MAAiB,CAAEC,OAAnB,EAAGA,WACA,SAAAC,GAAQ,MAAK,CAAEA,cAE3BF,CAGbG,YAAYC,aAhDD,SAAC,GAOP,IANLC,EAMI,EANJA,SAEYC,EAIR,EALJC,MACEC,OAAUF,IAEZJ,EAEI,EAFJA,SACAD,EACI,EADJA,OAEMQ,EAAOJ,EAASK,SAAW,MAAQ,OACnCC,EAAaV,EAAOU,YAAc,GAkBxC,OAhBAC,qBAAU,WACkB,IAAtBD,EAAWE,QACbC,IAAM,CACJC,MAAO,MACPC,IAAI,GAAD,OAAKC,IAAOC,QAAZ,kBAEFC,MAAK,SAAAC,GACAA,EAAIC,KAAKC,QAAQX,YACnBT,EAASqB,YAAY,CAAEZ,WAAYS,EAAIC,KAAKC,QAAQX,iBAIvDa,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAE7B,IAGD,yBAAKG,UAAS,UA/CA,SAgDZ,kBAAC,IAAD,CAAMC,YAAapB,EAAMqB,UAAYxB,GAAM,aACzC,kBAACR,EAAD,CACEiC,IAAK,YACLzB,IAAKD,EAASK,SAAW,kBAAC,IAAD,CAAMsB,GAAE,KAAR,OAA4B,IAErD,kBAACxC,EAAD,OAnDa,SAACmB,EAAYL,GAClC,IAAI2B,EAAS,KAab,OAXItB,GAAcA,EAAWE,OAAS,IACpCoB,EAAStB,EAAWuB,KAAI,WAAgBC,GAAhB,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,IAAT,OACtB,kBAACvC,EAAD,CACEiC,IAAK5C,EAAaiD,GAClB9B,IAAK,kBAAC,IAAD,CAAM0B,GAAE,oBAAe7C,EAAaiD,KAAUA,IAEnD,kBAACvC,EAAD,CAAUyC,WAAYD,EAAK/B,IAAKA,SAK/B2B,EAuCAM,CAAe5B,EAAYL","file":"static/js/12.67208a0b.chunk.js","sourcesContent":["const changeToSlug = title => {\n  if (!title) {\n    return \"\";\n  }\n\n  let slug = title.toLowerCase();\n\n  //Đổi ký tự có dấu thành không dấu\n  slug = slug.replace(/[áàảạãăắằẳẵặâấầẩẫậ]/gi, \"a\");\n  slug = slug.replace(/[éèẻẽẹêếềểễệ]/gi, \"e\");\n  slug = slug.replace(/[iíìỉĩị]/gi, \"i\");\n  slug = slug.replace(/[óòỏõọôốồổỗộơớờởỡợ]/gi, \"o\");\n  slug = slug.replace(/[úùủũụưứừửữự]/gi, \"u\");\n  slug = slug.replace(/[ýỳỷỹỵ]/gi, \"y\");\n  slug = slug.replace(/đ/gi, \"d\");\n\n  //Xóa các ký tự đặc biệt\n  slug = slug.replace(/[`~!@#|$%^&()+=,.\\/?><'\":;_]/gi, \"\");\n\n  //Đổi khoảng trắng thành ký tự gạch ngang\n  slug = slug.replace(/ /gi, \"-\");\n\n  //Đổi nhiều ký tự gạch ngang liên tiếp thành 1 ký tự gạch ngang\n  //Phòng trường hợp người nhập vào quá nhiều ký tự trắng\n  slug = slug.replace(/\\-\\-\\-\\-\\-/gi, \"-\");\n  slug = slug.replace(/\\-\\-\\-\\-/gi, \"-\");\n  slug = slug.replace(/\\-\\-\\-/gi, \"-\");\n  slug = slug.replace(/\\-\\-/gi, \"-\");\n\n  //Xóa các ký tự gạch ngang ở đầu và cuối\n  slug = \"@\" + slug + \"@\";\n  slug = slug.replace(/\\@\\-|\\-\\@|\\@/gi, \"\");\n\n  return slug;\n};\n\nexport default changeToSlug;\n","import React, { useState, useEffect } from 'react';\nimport { withPlatform } from '../../context/platform';\nimport { Tabs } from 'antd';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport Loadable from 'react-loadable';\n\nimport './style.scss';\n\nimport config from '../../utils/config';\nimport changeToSlug from '../../utils/changeToSlug';\nimport Loading from '../../components/Loading';\nimport { updateState } from '../../actions';\n\nconst CategoryCard = Loadable({\n  loader: () => import('../../components/CategoryCard'),\n  loading: Loading,\n});\nconst Category = Loadable({\n  loader: () => import('../../components/Category'),\n  loading: Loading,\n});\n\nconst { TabPane } = Tabs;\n\nconst prefixCls = 'home';\n\nconst renderCategory = (categories, tab) => {\n  let result = null;\n\n  if (categories && categories.length > 0) {\n    result = categories.map(({ name, _id }, index) => (\n      <TabPane\n        key={changeToSlug(name)}\n        tab={<Link to={`/category/${changeToSlug(name)}`}>{name}</Link>}\n      >\n        <Category idCategory={_id} tab={tab} />\n      </TabPane>\n    ));\n  }\n\n  return result;\n};\n\nconst Home = ({\n  platform,\n  match: {\n    params: { tab },\n  },\n  dispatch,\n  global,\n}) => {\n  const mode = platform.isMobile ? 'top' : 'left';\n  const categories = global.categories || [];\n\n  useEffect(() => {\n    if (categories.length === 0) {\n      axios({\n        mehod: 'GET',\n        url: `${config.API_URL}/categories/`,\n      })\n        .then(res => {\n          if (res.data.results.categories) {\n            dispatch(updateState({ categories: res.data.results.categories }));\n            // console.log(res.data.results.categories);\n          }\n        })\n        .catch(err => console.log(err));\n    }\n  }, []);\n\n  return (\n    <div className={`${prefixCls}`}>\n      <Tabs tabPosition={mode} activeKey={!tab ? 'trang-chu' : tab}>\n        <TabPane\n          key={'trang-chu'}\n          tab={platform.isMobile ? <Link to={`/`}>Hot</Link> : ''}\n        >\n          <CategoryCard />\n        </TabPane>\n        {renderCategory(categories, tab)}\n      </Tabs>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ global }) => ({ global });\nconst mapDispatchToProps = dispatch => ({ dispatch });\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withCookies(withPlatform(Home)));\n"],"sourceRoot":""}