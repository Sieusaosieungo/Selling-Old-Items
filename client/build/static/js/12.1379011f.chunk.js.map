{"version":3,"sources":["utils/changeToSlug.js","pages/Home/index.js"],"names":["changeToSlug","title","slug","toLowerCase","replace","CategoryCard","Loadable","loader","loading","Loading","Category","TabPane","Tabs","connect","global","dispatch","withCookies","withPlatform","platform","tab","match","params","mode","isMobile","categories","useEffect","length","axios","mehod","url","config","API_URL","then","res","data","results","updateState","catch","err","console","log","className","tabPosition","activeKey","key","to","result","map","index","name","_id","idCategory","renderCategory"],"mappings":"0PAoCeA,EApCM,SAAAC,GACnB,IAAKA,EACH,MAAO,GAGT,IAAIC,EAAOD,EAAME,cA4BjB,OAFAD,GADAA,EAAO,KAHPA,GADAA,GADAA,GADAA,GAJAA,GAHAA,GAHAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,EAAOA,EAAKE,QAAQ,qGAAyB,MACjCA,QAAQ,mEAAmB,MAC3BA,QAAQ,kCAAc,MACtBA,QAAQ,qGAAyB,MACjCA,QAAQ,qEAAmB,MAC3BA,QAAQ,mCAAa,MACrBA,QAAQ,WAAO,MAGfA,QAAQ,iCAAkC,KAG1CA,QAAQ,MAAO,MAIfA,QAAQ,eAAgB,MACxBA,QAAQ,aAAc,MACtBA,QAAQ,WAAY,MACpBA,QAAQ,SAAU,MAGV,KACRA,QAAQ,iBAAkB,K,gBCflCC,EAAeC,IAAS,CAC5BC,OAAQ,kBAAM,+BACdC,QAASC,MAELC,EAAWJ,IAAS,CACxBC,OAAQ,kBAAM,qDACdC,QAASC,MAGHE,EAAYC,IAAZD,QAkEOE,uBAHS,SAAC,GAAD,MAAiB,CAAEC,OAAnB,EAAGA,WACA,SAAAC,GAAQ,MAAK,CAAEA,cAE3BF,CAGbG,YAAYC,aAhDD,SAAC,GAOP,IANLC,EAMI,EANJA,SAEYC,EAIR,EALJC,MACEC,OAAUF,IAEZJ,EAEI,EAFJA,SACAD,EACI,EADJA,OAEMQ,EAAOJ,EAASK,SAAW,MAAQ,OACnCC,EAAaV,EAAOU,YAAc,GAkBxC,OAhBAC,qBAAU,WACkB,IAAtBD,EAAWE,QACbC,IAAM,CACJC,MAAO,MACPC,IAAI,GAAD,OAAKC,IAAOC,QAAZ,kBAEFC,MAAK,SAAAC,GACAA,EAAIC,KAAKC,QAAQX,YACnBT,EAASqB,YAAY,CAAEZ,WAAYS,EAAIC,KAAKC,QAAQX,iBAIvDa,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAE7B,IAGD,yBAAKG,UAAS,UA/CA,SAgDZ,kBAAC,IAAD,CAAMC,YAAapB,EAAMqB,UAAYxB,GAAM,aACzC,kBAACR,EAAD,CACEiC,IAAK,YACLzB,IAAKD,EAASK,SAAW,kBAAC,IAAD,CAAMsB,GAAE,KAAR,OAA4B,IAErD,kBAACxC,EAAD,OAnDa,SAACmB,EAAYL,GAClC,IAAI2B,EAAS,KAab,OAXItB,GAAcA,EAAWE,OAAS,IACpCoB,EAAStB,EAAWuB,KAAI,WAAgBC,GAAhB,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,IAAT,OACtB,kBAACvC,EAAD,CACEiC,IAAK5C,EAAaiD,GAClB9B,IAAK,kBAAC,IAAD,CAAM0B,GAAE,oBAAe7C,EAAaiD,KAAUA,IAEnD,kBAACvC,EAAD,CAAUyC,WAAYD,EAAK/B,IAAKA,SAK/B2B,EAuCAM,CAAe5B,EAAYL","file":"static/js/12.1379011f.chunk.js","sourcesContent":["const changeToSlug = title => {\r\n  if (!title) {\r\n    return \"\";\r\n  }\r\n\r\n  let slug = title.toLowerCase();\r\n\r\n  //Đổi ký tự có dấu thành không dấu\r\n  slug = slug.replace(/[áàảạãăắằẳẵặâấầẩẫậ]/gi, \"a\");\r\n  slug = slug.replace(/[éèẻẽẹêếềểễệ]/gi, \"e\");\r\n  slug = slug.replace(/[iíìỉĩị]/gi, \"i\");\r\n  slug = slug.replace(/[óòỏõọôốồổỗộơớờởỡợ]/gi, \"o\");\r\n  slug = slug.replace(/[úùủũụưứừửữự]/gi, \"u\");\r\n  slug = slug.replace(/[ýỳỷỹỵ]/gi, \"y\");\r\n  slug = slug.replace(/đ/gi, \"d\");\r\n\r\n  //Xóa các ký tự đặc biệt\r\n  slug = slug.replace(/[`~!@#|$%^&()+=,.\\/?><'\":;_]/gi, \"\");\r\n\r\n  //Đổi khoảng trắng thành ký tự gạch ngang\r\n  slug = slug.replace(/ /gi, \"-\");\r\n\r\n  //Đổi nhiều ký tự gạch ngang liên tiếp thành 1 ký tự gạch ngang\r\n  //Phòng trường hợp người nhập vào quá nhiều ký tự trắng\r\n  slug = slug.replace(/\\-\\-\\-\\-\\-/gi, \"-\");\r\n  slug = slug.replace(/\\-\\-\\-\\-/gi, \"-\");\r\n  slug = slug.replace(/\\-\\-\\-/gi, \"-\");\r\n  slug = slug.replace(/\\-\\-/gi, \"-\");\r\n\r\n  //Xóa các ký tự gạch ngang ở đầu và cuối\r\n  slug = \"@\" + slug + \"@\";\r\n  slug = slug.replace(/\\@\\-|\\-\\@|\\@/gi, \"\");\r\n\r\n  return slug;\r\n};\r\n\r\nexport default changeToSlug;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withPlatform } from '../../context/platform';\r\nimport { Tabs } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { withCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport Loadable from 'react-loadable';\r\n\r\nimport './style.scss';\r\n\r\nimport config from '../../utils/config';\r\nimport changeToSlug from '../../utils/changeToSlug';\r\nimport Loading from '../../components/Loading';\r\nimport { updateState } from '../../actions';\r\n\r\nconst CategoryCard = Loadable({\r\n  loader: () => import('../../components/CategoryCard'),\r\n  loading: Loading,\r\n});\r\nconst Category = Loadable({\r\n  loader: () => import('../../components/Category'),\r\n  loading: Loading,\r\n});\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst prefixCls = 'home';\r\n\r\nconst renderCategory = (categories, tab) => {\r\n  let result = null;\r\n\r\n  if (categories && categories.length > 0) {\r\n    result = categories.map(({ name, _id }, index) => (\r\n      <TabPane\r\n        key={changeToSlug(name)}\r\n        tab={<Link to={`/category/${changeToSlug(name)}`}>{name}</Link>}\r\n      >\r\n        <Category idCategory={_id} tab={tab} />\r\n      </TabPane>\r\n    ));\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst Home = ({\r\n  platform,\r\n  match: {\r\n    params: { tab },\r\n  },\r\n  dispatch,\r\n  global,\r\n}) => {\r\n  const mode = platform.isMobile ? 'top' : 'left';\r\n  const categories = global.categories || [];\r\n\r\n  useEffect(() => {\r\n    if (categories.length === 0) {\r\n      axios({\r\n        mehod: 'GET',\r\n        url: `${config.API_URL}/categories/`,\r\n      })\r\n        .then(res => {\r\n          if (res.data.results.categories) {\r\n            dispatch(updateState({ categories: res.data.results.categories }));\r\n            // console.log(res.data.results.categories);\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`${prefixCls}`}>\r\n      <Tabs tabPosition={mode} activeKey={!tab ? 'trang-chu' : tab}>\r\n        <TabPane\r\n          key={'trang-chu'}\r\n          tab={platform.isMobile ? <Link to={`/`}>Hot</Link> : ''}\r\n        >\r\n          <CategoryCard />\r\n        </TabPane>\r\n        {renderCategory(categories, tab)}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ global }) => ({ global });\r\nconst mapDispatchToProps = dispatch => ({ dispatch });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(withCookies(withPlatform(Home)));\r\n"],"sourceRoot":""}